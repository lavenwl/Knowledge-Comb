### 组合模式（Composite Pattern）

又称为整体部分模式， 通过单个对象（叶节点）和组合对象（树枝节点）用相同的接口表示， 使得客户对单个对象和组合对象的使用具有一致性， 属于结构型模式。

### 组合模式的写法

* 透明组合模式的写法：把所有的方法都定义在Component中，这样的好处是客户端无需分辨是叶子节点，还是树枝节点。具备完全一致的接口。
* 安全组合模式的写法：只规定各个层次的最基础的一致行为，而把组合（树节点）本身的方法放到自身当中。

### 源码中的组合模式

* HashMap的 putAll() 方法。
* ArrayList对象的AddAll()方法。
* MyBatis的Mapping文件中的SQL，解析使用的SqlNode对象。

> 优点：
>
> 1. 清楚的定义分层次的复杂对象， 表示对象的全部或者部分层次
> 2. 让客户端忽略层次差异，方便对整个层次结构进行控制
> 3. 简化客户端代码
> 4. 符合开闭原则
>
> 缺点：
>
> 1. 限制类型时会比较复杂
> 2. 使设计变的更加抽象