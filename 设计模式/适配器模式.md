### 适配器模式(Adapter Pattern)

又叫做变压器模式, 他的功能是将一个类的接口编程客户端所期望的另一种接口, 属于结构型设计模式

> 优点:
>
> 1. 提高类的透明性和复用, 现有的类复用但不需要修改
> 2. 目标类和适配器类解耦, 提高程序的扩展
> 3. 在很多业务场景中符合开闭原则
>
> 缺点:
>
> 1. 适配器编写过程需要全面考虑, 可能会增加系统复杂度

### 适配器模式的三种形式

* 类适配器: 通过继承来实现适配器功能
* 对象适配器: 通过组合来实现适配器功能
* 接口适配器: 通过使用抽象类实现接口, 并空实现接口众多方法,以减少实现过多的接口的方法

### 源码中的适配器模式

* SpringAOP 中的AdvisorAdapter类,其实现类有
    * MethodBeforeAdviceAdapter
    * AfterReturningAdviceAdapter
    * ThrowsAdviceAdapter
* SpringMVC中的HandlerAdapter类, 其实现类有
    * AbstractHandlerMethodAdapter
    * SimpleServletHandlerAdapter
    * SimpleControllerHandlerAdapter
    * HttpRequestHandlerAdapter

### 适配器模式与装饰器模式对比

|      | 装饰器模式                                                   | 适配器模式                                                   |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 形式 | 是一种非常特别的适配器模式                                   | 没有层级关系,装饰器模式有层级关系                            |
| 定义 | 装饰器和被装饰器都实现同一个接口,主要目的是为了扩展后依旧保留OOP关系 | 适配器与被适配者没有必然联系,通常采用集成或代理的形式进行封装 |
| 关系 | is-a                                                         | has-a                                                        |
| 功能 | 覆盖,扩展                                                    | 兼容,转换                                                    |
| 设计 | 前置考虑                                                     | 后置考虑                                                     |

