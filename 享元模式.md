### 享元模式（FlyWeight Pattern）

又称轻量级模式，是对象池的一种实现。可以避免不停的创建和销毁多个对象， 消耗性能。 如线程池。属于结构性模式

> 享元模式吧一个对象的状态分成内部状态和外部状态，内部状态是不变的， 外部状态是变化的。
>
> 优点：
>
> 1. 减少对象的创建，降低内存中对象的数量，降低系统内存，提高效率
>
> 缺点：
>
> 1. 关注内外部状态， 线程安全问题
> 2. 使系统逻辑复杂化

享元模式其实就是工厂模式中为工厂方法增加了缓存的功能。

享元模式写法同注册单例模式的写法， 但是享元模式的重点在结构上。

### 享元模式在源码中的应用

* String 中的享元模式， JVM优化字符串常量保存在常量池
* Integer中的享元模式，-128~127之间的数据使用享元模式
* Long中的享元模式，同样有缓存，只不过不能抓鱼缓存最大值
* Apache Commons Pool2中的享元模式